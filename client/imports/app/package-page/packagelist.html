<h2 class="header red-text text-lighten-1" color="primary">
    <span>Subscription Packages</span>
</h2>

<section class="serach-bg" *ngIf="itemsSize>=0">
    <section class="search col s10">
        <input id="search" type="text" #searchtext class="col s12" placeholder="Search here..." (keyup.enter)="search(searchtext.value)" [(ngModel)]="searchString" />
        <label class="tooltipped" for="search" (click)="search(searchtext.value)" data-position="top" data-delay="0" data-tooltip="Click to Search"><i class="material-icons">search</i></label>
    </section>
    <section class="download-btn">
        <a class="waves-effect waves-light btn blue accent-2" [routerLink]="['/package/create']"><i class="zmdi zmdi-plus"></i>Add Package</a>
    </section>
</section>

<div class="loading">
    Loading...
</div>

<pagination-controls *ngIf="itemsSize>0" class="pagination" (pageChange)="onPageChanged($event)"></pagination-controls>

<table class="bordered striped highlight responsive-table" *ngIf="itemsSize>=0">
    <thead>
        <tr>
            <th data-field="title">Title</th>
            <th data-field="code">code</th>
            <th data-field="summary">Summary</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
    <tr class=""
        *ngFor="let package of packageArr"
        [attr.data-page-id]="package._id"
        [ngClass]="{'red accent-1': package.deleted, 'red lighten-4': package.active === false}"
        [hidden]="package.deleted">
        <td><a [routerLink]="['/package/view', package._id]">{{package.title}}</a></h2></td>
        <td>{{package.code}}</td>
        <td>{{package.summary}}</td>
        <td><a class="btn-floating waves-effect waves-light blue tooltipped" href="javascript:void(0);" [routerLink]="['/package/update', package._id]" data-position="top" data-delay="0" data-tooltip="Edit Package"><i class="material-icons">mode_edit</i></a>
          <a *ngIf="package.active == undefined || package.active === true" class="btn-floating waves-effect waves-light red lighten-2 tooltipped" href="javascript:void(0);" (click)="deactivate(package)" data-position="top" data-delay="0" data-tooltip="Deactivate"><i class="material-icons">check</i></a>
          <a *ngIf="package.active === false" class="btn-floating waves-effect waves-light green lighten-2 tooltipped" href="javascript:void(0);" (click)="activate(package)" data-position="top" data-delay="0" data-tooltip="Activate"><i class="material-icons">check</i></a></li>
            <a *ngIf="!package.deleted" class="btn-floating waves-effect waves-light red tooltipped" href="javascript:void(0);" (click)="deletePackage(package)" data-position="top" data-delay="0" data-tooltip="Delete Package"><i class="material-icons">delete</i></a>
        </td>
    </tr>
    <tr *ngIf="itemsSize==0">
        <td colspan="4">
        No records have been added yet.
        </td>
    </tr>
    </tbody>
</table>

<pagination-controls *ngIf="itemsSize>0" class="pagination" (pageChange)="onPageChanged($event)"></pagination-controls>
